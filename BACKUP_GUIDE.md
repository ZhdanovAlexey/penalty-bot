# üóÑÔ∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ –±—ç–∫–∞–ø–æ–≤ Penalty Bot

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –±—ç–∫–∞–ø–æ–≤ Telegram –±–æ—Ç–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –Ω–µ—É—Å—Ç–æ–µ–∫.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –±—ç–∫–∞–ø–æ–≤](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã-–±—ç–∫–∞–ø–æ–≤)
- [–¢–∏–ø—ã –±—ç–∫–∞–ø–æ–≤](#—Ç–∏–ø—ã-–±—ç–∫–∞–ø–æ–≤)
- [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã](#–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ-–±—ç–∫–∞–ø—ã)
- [–†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤](#—Ä—É—á–Ω–æ–µ-—Å–æ–∑–¥–∞–Ω–∏–µ-–±—ç–∫–∞–ø–æ–≤)
- [–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–æ–≤](#–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ-–∏–∑-–±—ç–∫–∞–ø–æ–≤)
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

## üîç –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –±—ç–∫–∞–ø–æ–≤

–°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤
- **–ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤** –±—ç–∫–∞–ø–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É** —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤
- **–ü—Ä–æ—Å—Ç–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—ç–∫–∞–ø–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
/var/backups/penalty-bot/
‚îú‚îÄ‚îÄ penalty-bot-data-20241225-120000.tar.gz      # –ë—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ penalty-bot-full-20241225-030000.tar.gz      # –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
‚îú‚îÄ‚îÄ penalty-bot-config-20241201-040000.tar.gz    # –ë—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ penalty-bot-pre-restore-20241225-150000.tar.gz # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
```

## üì¶ –¢–∏–ø—ã –±—ç–∫–∞–ø–æ–≤

### 1. –ë—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö (`data`)
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite (`data/penalty_bot.db`)
- –§–∞–π–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–†–∞–∑–º–µ—Ä:** ~1-10 MB  
**–ß–∞—Å—Ç–æ—Ç–∞:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00

### 2. –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø (`full`)
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –í–µ—Å—å –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–∞–π–ª—ã
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:**
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`venv/`)
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤
- Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

**–†–∞–∑–º–µ—Ä:** ~50-100 MB  
**–ß–∞—Å—Ç–æ—Ç–∞:** –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ) –≤ 03:00

### 3. –ë—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`config`)
**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –§–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`)
- –ö–ª—é—á–∏ API (`service_account.json`)
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ —Å–µ–∫—Ä–µ—Ç—ã

**–†–∞–∑–º–µ—Ä:** ~1-5 KB  
**–ß–∞—Å—Ç–æ—Ç–∞:** –ï–∂–µ–º–µ—Å—è—á–Ω–æ (1 —á–∏—Å–ª–æ) –≤ 04:00

## ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤

```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
sudo ./scripts/setup_cron_backup.sh
```

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

| –¢–∏–ø | –í—Ä–µ–º—è | –ß–∞—Å—Ç–æ—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|-------|---------|----------|
| Data | 02:00 | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ | –ë—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö –∏ –ë–î |
| Full | 03:00 | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ (–í—Å) | –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| Config | 04:00 | –ï–∂–µ–º–µ—Å—è—á–Ω–æ (1 —á–∏—Å–ª–æ) | –ë—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ cron

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á cron
crontab -l

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ cron
systemctl status cron      # Ubuntu/Debian
systemctl status crond     # CentOS/RHEL
```

## üõ†Ô∏è –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã penalty-backup

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–∞ —É–¥–æ–±–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:

```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö
penalty-backup data

# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
penalty-backup full

# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
penalty-backup config

# –°–æ–∑–¥–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã –±—ç–∫–∞–ø–æ–≤
penalty-backup all

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±—ç–∫–∞–ø–æ–≤
penalty-backup stats
```

### –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/penalty-bot

# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö
sudo ./scripts/backup.sh data

# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
sudo ./scripts/backup.sh full

# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ./scripts/backup.sh config

# –°–æ–∑–¥–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã –±—ç–∫–∞–ø–æ–≤
sudo ./scripts/backup.sh all

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
sudo ./scripts/backup.sh stats
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üóÑÔ∏è  –°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤ Penalty Bot

[2024-12-25 12:00:00] –°–æ–∑–¥–∞–µ–º –±—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö...
[2024-12-25 12:00:01] ‚úÖ –ë—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω: penalty-bot-data-20241225-120000.tar.gz (2.3M)
[2024-12-25 12:00:01] –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7)...

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—ç–∫–∞–ø–æ–≤:

üìÅ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±—ç–∫–∞–ø–æ–≤: /var/backups/penalty-bot
üì¶ –í—Å–µ–≥–æ –±—ç–∫–∞–ø–æ–≤: 15
üíæ –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 156M

üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ –±—ç–∫–∞–ø—ã:
  penalty-bot-data-20241225-120000.tar.gz - 2024-12-25 12:00:00 (2.3M)
  penalty-bot-full-20241222-030000.tar.gz - 2024-12-22 03:00:00 (87M)
  penalty-bot-data-20241224-020000.tar.gz - 2024-12-24 02:00:00 (2.1M)

[2024-12-25 12:00:01] üéâ –ë—ç–∫–∞–ø –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!
```

## üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–æ–≤

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±—ç–∫–∞–ø—ã
sudo ./scripts/restore.sh
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
sudo ./scripts/restore.sh /var/backups/penalty-bot/penalty-bot-data-20241225-120000.tar.gz

# –ò–ª–∏ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–º—è —Ñ–∞–π–ª–∞
sudo ./scripts/restore.sh penalty-bot-data-20241225-120000.tar.gz
```

### –ü—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

1. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±—ç–∫–∞–ø–µ –∏ –∑–∞–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
2. **–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è** - —Å–æ–∑–¥–∞–µ—Ç—Å—è backup —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
3. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞** - —Å–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
4. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –¥–∞–Ω–Ω—ã–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ –∞—Ä—Ö–∏–≤–∞
5. **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞** - —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ
6. **–ü—Ä–æ–≤–µ—Ä–∫–∞** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

```
üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞ Penalty Bot

‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞!

–§–∞–π–ª –±—ç–∫–∞–ø–∞: penalty-bot-data-20241225-120000.tar.gz
–¢–∏–ø –±—ç–∫–∞–ø–∞: data
–†–∞–∑–º–µ—Ä: 2.3M

–ë—É–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ? (yes/no): yes

[2024-12-25 15:00:00] –°–æ–∑–¥–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º...
[2024-12-25 15:00:01] ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞: penalty-bot-pre-restore-20241225-150000.tar.gz (87M)
[2024-12-25 15:00:01] –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–æ—Ç–∞...
[2024-12-25 15:00:02] ‚úÖ –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
[2024-12-25 15:00:02] –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑: penalty-bot-data-20241225-120000.tar.gz
[2024-12-25 15:00:03] ‚úÖ –î–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
[2024-12-25 15:00:03] –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞...
[2024-12-25 15:00:06] ‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ

[2024-12-25 15:00:06] üéâ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!
[2024-12-25 15:00:06] ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—ç–∫–∞–ø–æ–≤

```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—ç–∫–∞–ø–æ–≤
penalty-backup stats

# –†–∞–∑–º–µ—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±—ç–∫–∞–ø–æ–≤
du -sh /var/backups/penalty-bot

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—ç–∫–∞–ø–æ–≤
find /var/backups/penalty-bot -name "*.tar.gz" | wc -l

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –±—ç–∫–∞–ø—ã
ls -lht /var/backups/penalty-bot/*.tar.gz | head -5
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7** –±—ç–∫–∞–ø–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- **–£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ** –±—ç–∫–∞–ø—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö
- **–õ–æ–≥–∏—Ä—É–µ—Ç** –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏

### –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

```bash
# –£–¥–∞–ª–∏—Ç—å –±—ç–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
find /var/backups/penalty-bot -name "*.tar.gz" -mtime +30 -delete

# –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±—ç–∫–∞–ø
rm /var/backups/penalty-bot/penalty-bot-data-20241201-020000.tar.gz
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
df -h /var/backups

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–∏—Å–∫–∞ –Ω–∞ 80%
echo '
if [ $(df /var/backups | tail -1 | awk "{print \$5}" | sed "s/%//") -gt 80 ]; then
    echo "WARNING: Backup disk usage is above 80%"
fi
' >> ~/.bashrc
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±—ç–∫–∞–ø–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

```bash
# –û—à–∏–±–∫–∞
tar: /backup/penalty-bot-20250525.tar.gz: Cannot open: No such file or directory

# –†–µ—à–µ–Ω–∏–µ
sudo mkdir -p /var/backups/penalty-bot
sudo chmod 755 /var/backups/penalty-bot
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
# –û—à–∏–±–∫–∞
Permission denied

# –†–µ—à–µ–Ω–∏–µ
sudo chown root:root /var/backups/penalty-bot
sudo chmod 755 /var/backups/penalty-bot
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

```bash
# –û—à–∏–±–∫–∞
tar: /opt/penalty-bot/data: Cannot stat: No such file or directory

# –ü—Ä–æ–≤–µ—Ä–∫–∞
ls -la /opt/penalty-bot/

# –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ
cd /path/to/project
sudo ./scripts/deploy.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: Cron –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å cron
systemctl status cron

# –ó–∞–ø—É—Å—Ç–∏—Ç—å cron
sudo systemctl start cron
sudo systemctl enable cron

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ cron
sudo tail -f /var/log/cron
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë—ç–∫–∞–ø —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
du -sh /opt/penalty-bot/*

# –ò—Å–∫–ª—é—á–∏—Ç—å –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã
sudo ./scripts/backup.sh data  # –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
```

### –ü—Ä–æ–±–ª–µ–º–∞: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∞—Ä—Ö–∏–≤–∞
tar -tzf /var/backups/penalty-bot/penalty-bot-data-20241225-120000.tar.gz

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /var/backups/penalty-bot/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
systemctl status penalty-bot
```

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±—ç–∫–∞–ø–æ–≤ (chmod 700)
- **–®–∏—Ñ—Ä—É–π—Ç–µ** –±—ç–∫–∞–ø—ã —Å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –±—ç–∫–∞–ø–æ–≤

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –±—ç–∫–∞–ø—ã** –Ω–∞ –≤—Ä–µ–º—è –Ω–∏–∑–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∂–∞—Ç–∏–µ** –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- **–•—Ä–∞–Ω–∏—Ç–µ –∫–æ–ø–∏–∏** –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [DEPLOYMENT.md](DEPLOYMENT.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- [QUICK_START.md](QUICK_START.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [README.md](README.md) - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [—Ä–∞–∑–¥–µ–ª —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
2. –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u penalty-bot -f`
3. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://github.com/ZhdanovAlexey/penalty-bot/issues) 